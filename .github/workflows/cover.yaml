name: "Unit/Coverage Tests"

on: pull_request_target

jobs:
  coverage:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-go@v3
        with:
          go-version: "^1.21"
      - run: go version

      - name: Run unit tests and coverage test
        id: test-coverage
        run: |
          go test -cover ./... -v > output.txt
